# makefile
### 格式
TARGET: PREREQUISITES  
    COMMANDS
### 依赖树
find root  
### 详述  
https://blog.csdn.net/weixin_38391755/article/details/80380786
# 安卓编译系统的根节点： droid
### makefile文件
###DO NOT EDIT ###  
include build/core/main.mk  
###DO NOT EDIT ###  
### main.mk
核心makefile文件
### make
make对makefile的解析步骤：  
1.初始化：变量赋值、环境检测  
2.生成依赖树  
3.根据依赖树，从叶到根逐步生成目标文件
### droid编译分支
1.只编译app:apps_only  
2.编译整个系统：droidcore,dist_files
### 其他重要mk文件(均在main.mk中调用)
1.config.mk：  
BoardConfig.mk,AndroidProduct.mk,javac.mk,envsetup.mk,BUILD  
2.base_rule.mk  
3.definitions.mk  
。。。
### droidcore
#### 依赖
file,systemimage,$(INSTALLED_...)
# Android.mk
### 意义
使系统具有良好的后期动态扩展性
### 添加一个编译模块到系统中的顺序（关键字）
LOCAL_PATH(唯一先于CLEAR_VARS的命令)LOCAL_PATH := $(call my-dir)  
CLEAR_VARS(一个编译模块的开始标志)include $(CLEAR_VARS)  
LOCAL_SRC_FILES(定义了本模块编译所有涉及到的所有源文件，自定义的变量也要加入其中)  
LOCAL_CFLAGS(可选，添加编译标志)  
LOCAL_MODULE(所要生成的模块名称)LOCAL_MODULE := adb  
LOCAL_STATIC_LIBRARIES(可选，编译过程中要用到的静态库)  
BUILD_HOST_EXECUTABLE(一个编译模块结束标志，希望生成一个host可执行文件)BUILD_XXX  
——BUILD_EXECUTABLE

